---
layout:     post                            # 使用的布局 (不需要修改)
title:      docsify - 生成文档网站使用教程     # 标题
subtitle:   docsify 搭建教程              # 副标题
date:       2020-05-19                      # 时间
author:     YuanLe                          # 作者
header-img: img/Australia, Australia_Pacific.jpg         # 这篇文章标题背景图片
catalog: true                               # 是否归档
tags:                                       # 标签
    - docsify
---

来源：[docsify - 生成文档网站简单使用教程](https://segmentfault.com/a/1190000017576714)

# docsify 文档网站搭建教程

docsify 文档环境配置搭建教程。

-----

## 目录

<!-- vim-markdown-toc GFM -->

* [1. 安装 Node.js 和 npm](#1. 安装 Node.js 和 npm)
* [2. docsify 介绍](#2. docsify 介绍)
* [3. 引入 docsify 方式](3.  引入 docsify 方式)
  * [3.1 手动创建`index.html`并引入docsify文件](#3.1 手动创建`index.html`并引入docsify文件)
  * [3.2 使用`docsify-cli`来开发](# 使用`docsify-cli`来开发)
* [4. 关于每个页面和URL路径说明](#4. 关于每个页面和URL路径说明)
* [5. 侧边栏设置](#5. 侧边栏设置)
  * [5.1 定制侧边栏](# 5.1定制侧边栏)
  * [5.2 关于侧边栏`_sidebar.md`文件的说明](#5.2 关于侧边栏`_sidebar.md`文件的说明)
  * [5.3 显示页面目录(当前页面的标题)](#5.3 显示页面目录(当前页面的标题))
    * [5.3.1 页面的标题不在侧边栏目录显示](#5.3.1 页面的标题不在侧边栏目录显示)
* [6. 导航栏配置](6. 导航栏配置)
  * [6.1 在`index.html`中定义导航栏](#6.1 在`index.html`中定义导航栏)
  * [6.2 通过配置文件定义导航栏](#6.2 通过配置文件定义导航栏)
  * [6.3 导航栏嵌套](#6.3 导航栏嵌套)
* [7. 设置封面](#7. 设置封面)
  * [7.1 自定义封面背景](#7.1 自定义封面背景)
  * [7.2 把封面作为封面](#7.2 把封面作为封面)
  * [7.3 多个封面](#7.3 多个封面)
* [8. 网站部署到GitHub Pages](#8. 网站部署到GitHub Pages)
  * [8.1 使用 docsify 的例子](#8.1 使用 docsify 的例子)
* [9. 一些插件](#9. 一些插件)
  * [9.1 搜索插件](#9.1 搜索插件)
  * [9.2 评论插件 Gitalk](#9.2 评论插件 Gitalk)
  * [9.3 样式插件](#9.3 样式插件)
* [参考资料](# 参考资料)

<!-- vim-markdown-toc -->

## 1.安装 Node.js 和 npm

###  安装 Node.js

由于Node.js平台是在后端运行JavaScript代码，所以，必须首先在本机安装Node环境。

目前Node.js的最新版本是12.16.3 LTS。首先，从[Node.js官网](https://nodejs.org/)下载对应平台的安装程序。

在Windows上安装时务必选择全部组件，包括勾选`Add to Path`。

安装完成后，在Windows环境下，请打开命令提示符，然后输入`node -v`，如果安装正常，你应该看到`v7.6.0`这样的输出：

```cmd
C:\Users\yuanl>npm -v
6.14.4
```



### npm

在正式开始Node.js学习之前，我们先认识一下npm。

npm是什么东东？npm其实是Node.js的包管理工具（package manager）。

为啥我们需要一个包管理工具呢？因为我们在Node.js上开发时，会用到很多别人写的JavaScript代码。如果我们要使用别人写的某个包，每次都根据名称搜索一下官方网站，下载代码，解压，再使用，非常繁琐。于是一个集中管理的工具应运而生：大家都把自己开发的模块打包后放到npm官网上，如果要使用，直接通过npm安装就可以直接用，不用管代码存在哪，应该从哪下载。

更重要的是，如果我们要使用模块A，而模块A又依赖于模块B，模块B又依赖于模块X和模块Y，npm可以根据依赖关系，把所有依赖的包都下载下来并管理起来。否则，靠我们自己手动管理，肯定既麻烦又容易出错。

讲了这么多，npm究竟在哪？

其实npm已经在Node.js安装的时候顺带装好了。我们在命令提示符或者终端输入`npm -v`，应该看到类似的输出：

```cmd
C:\Users\yuanl>npm

Usage: npm <command>

where <command> is one of:
    access, adduser, audit, bin, bugs, c, cache, ci, cit,
    clean-install, clean-install-test, completion, config,
    create, ddp, dedupe, deprecate, dist-tag, docs, doctor,
    edit, explore, fund, get, help, help-search, hook, i, init,
    install, install-ci-test, install-test, it, link, list, ln,
    login, logout, ls, org, outdated, owner, pack, ping, prefix,
    profile, prune, publish, rb, rebuild, repo, restart, root,
    run, run-script, s, se, search, set, shrinkwrap, star,
    stars, start, stop, t, team, test, token, tst, un,
    uninstall, unpublish, unstar, up, update, v, version, view,
    whoami

npm <command> -h  quick help on <command>
npm -l            display full usage info
npm help <term>   search for help on <term>
npm help npm      involved overview

Specify configs in the ini-formatted file:
    C:\Users\yuanl\.npmrc
or on the command line via: npm <command> --key value
Config info can be viewed via: npm help config

npm@6.14.4 C:\Program Files\nodejs\node_modules\npm
```

## 2.docsify 介绍

docsify 是一个动态生成文档网站的工具。不同于 GitBook、Hexo 的地方是它不会生成将 .md 转成 .html 文件，所有转换工作都是在运行时进行。

这将非常实用，如果只是需要快速的搭建一个小型的文档网站，或者不想因为生成的一堆 .html 文件“污染” commit 记录，只需要创建一个 index.html 就可以开始写文档而且直接部署在 GitHub Pages。

```shell
yuanl@DESKTOP-5OU69QB MINGW64 /c/Yuanlele/docsify
$ npm i docsify-cli -g
npm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
npm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
npm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
npm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
C:\Users\yuanl\AppData\Roaming\npm\docsify -> C:\Users\yuanl\AppData\Roaming\npm\node_modules\docsify-cli\bin\docsify

> docsify@4.11.3 postinstall C:\Users\yuanl\AppData\Roaming\npm\node_modules\docsify-cli\node_modules\docsify
> opencollective-postinstall

Thank you for using docsify!
If you rely on this package, please consider supporting our open collective:
> https://opencollective.com/docsify/donate

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules\docsify-cli\node_modules\chokidar\node_modules\fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {"os":"darwin","arch":"any"} (current: {"os":"win32","arch":"x64"})

+ docsify-cli@4.4.0
added 316 packages from 170 contributors in 174.984s
```



### 手动创建`index.html`并引入docsify文件

docsify使用方式很简单，只需要在项目中创建一个`index.html`文件，内容能够如下：

```html
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="//unpkg.com/docsify/themes/vue.css">
</head>
<body>
  <div id="app"></div>
  <script>
    window.$docsify = {
      //...
    }
  </script>
  <script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
</body>
</html>
```

然后在项目中创建一个`README.md`文件：

```markdown
## 我是首页

这是我的首页介绍
```

如果你的系统安装了Python 的话，可以使用Python来启动一个服务：

```shell
python -m SimpleHTTPServer 3000

Serving HTTP on 0.0.0.0 port 3000 ...
127.0.0.1 - - [03/Jan/2019 13:45:27] "GET / HTTP/1.1" 200 -
```

然后在浏览器中输入`http://localhost:3000/`查看浏览效果。

如果没有Python，还是可以使用`http-server`启动服务，
可在终端输入`npm install http-server -g`来安装`http-server`。

```powershell
http-server 

Starting up http-server, serving ./
Available on:
  http://127.0.0.1:8080
  http://172.24.70.142:8080
Hit CTRL-C to stop the server
```

然后在浏览器中输入`http://127.0.0.1:8080`查看浏览效果。

![docsify](https://itx-man.github.io/img/source/Snipaste_2020-05-21_09-57-33.png)



## 参考链接

- [docsify中文官网](https://docsify.js.org/#/zh-cn/)
- [docsify - 生成文档网站简单使用教程](https://segmentfault.com/a/1190000017576714)